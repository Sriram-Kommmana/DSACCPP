class Solution {
public:

    int solve(int amount, vector<int>& coins, int index){

        if(index == 0){
            return (amount % coins[index] == 0);
        }

        int notTake = solve(amount, coins, index - 1);
        int take = 0;
        if(coins[index] <= amount){
            take = solve(amount - coins[index], coins, index);
        }

        return notTake + take;
         
    }

    int solveMem(int amount, vector<int>& coins, int index, vector<vector<int>>& dp){

        if(index == 0){
            return (amount % coins[index] == 0);
        }

        if(dp[index][amount] != -1) return dp[index][amount];

        int notTake = solveMem(amount, coins, index - 1, dp);
        int take = 0;
        if(coins[index] <= amount){
            take = solveMem(amount - coins[index], coins, index, dp);
        }

        return dp[index][amount] = notTake + take;
         
    }

    long long solveTab(int amount, vector<int>& coins){
        int n = coins.size();

        vector<vector<long long>> dp(n, vector<long long>(amount + 1, 0));

        for(int i = 0; i <= amount; i++){
            if(i % coins[0] == 0) dp[0][i] = 1;
        }

        for(int i = 1; i < n; i++){
            for(int j = 0; j <= amount; j++){

                long long notTake = dp[i - 1][j];
                long long take = 0;
                if(coins[i] <= j){
                    take = dp[i][j - coins[i]];
                }

                dp[i][j] = notTake + take;
            }
        }

        return dp[n - 1][amount];

    }

    int solveSO(int amount, vector<int>& coins) {
        vector<unsigned long long> dp(amount + 1, 0);
        dp[0] = 1;

        for (int coin : coins) {
            for (int j = coin; j <= amount; j++) {
                dp[j] += dp[j - coin];
            }
        }

        return dp[amount];
    }

    int change(int amount, vector<int>& coins) {

        int n = coins.size();
        // int ans = solve(amount, coins, n - 1);

        // vector<vector<int>> dp(n, vector<int>(amount + 1, -1));
        // int ans = solveMem(amount, coins, n - 1, dp);

        int ans = solveSO(amount, coins);
        return ans;

    }
};
